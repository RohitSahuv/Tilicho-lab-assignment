"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{4177:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(4848),n=r(6540);let l=n.memo(e=>{let{onApply:t,onClear:r,filterFormData:l,setFilterFormData:s,onClose:i}=e,o=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&i()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i]);let d=(e,t)=>{s(r=>({...r,[e]:t}))};return(0,a.jsxs)("div",{ref:o,className:"min-w-[300px] p-4 bg-white rounded-lg shadow-lg absolute z-50 right-0",children:[(0,a.jsxs)("div",{className:"my-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Filter By Lead Type"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"Hot",checked:(null==l?void 0:l.leadType)==="Hot",onChange:()=>d("leadType","Hot"),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Hot"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"Medium",checked:(null==l?void 0:l.leadType)==="Medium",onChange:()=>d("leadType","Medium"),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Medium"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",value:"Cold",checked:(null==l?void 0:l.leadType)==="Cold",onChange:()=>d("leadType","Cold"),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Cold"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-300 text-black rounded-md hover:shadow-lg",children:"Clear All"}),(0,a.jsx)("button",{onClick:()=>t(l),className:"px-4 py-2 bg-violet-500 text-white rounded-md hover:shadow-lg focus:outline-none",children:"Apply"})]})]})})},8533:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var a=r(4848),n=r(6540),l=r(4287),s=r(8221),i=r.n(s),o=r(8377),d=r(1588),c=r(4267),m=r(4335),u=r(2208),p=r(8459);let g=e=>[{Header:"Name",accessor:"name"},{Header:"Location",accessor:"location"},{Header:"Assigned On",accessor:"assignedOn"},{Header:"Lead Type",accessor:"leadType",Cell:e=>{let{value:t}=e;return console.log(t),(0,a.jsxs)(x,{status:t,children:[(0,a.jsx)(p.qV$,{size:20,color:"Hot"===t?"#FF0000":"Medium"===t?"#FFC107":u.wN.DarkGrey}),t]})}},{Header:"Action",accessor:"action",Cell:t=>{let{row:r}=t;return(0,a.jsx)("div",{className:"flex gap-4 items-center justify-center p-2",children:null==h?void 0:h.map((t,n)=>(0,a.jsxs)("div",{onClick:()=>e(t.id,r.original.id),className:"cursor-pointer flex items-center justify-center gap-2",children:[t.icon," ",(0,a.jsx)("span",{style:{color:"green"},children:"Call"})]},n))})}}],h=[{id:u.Zt.call,icon:(0,a.jsx)(o.CMF,{size:20,color:u.wN.Green})}],x=l.Ay.span.withConfig({componentId:"sc-ef4a6508-0"})(["width:fit-content;display:flex;padding:0.2em 0.5rem;font-size:0.875em;font-weight:600;border-radius:0.25rem;cursor:pointer;justify-content:center;align-items:center;margin :auto;z-index:-1;color:",";background-color:",";"],e=>{let{status:t}=e;switch(t){case"Hot":return"#FF0000";case"Medium":return"#FFC107";default:return"".concat(u.wN.DarkGrey)}},e=>{let{status:t}=e;switch(t){case"Hot":return"#FFCCCC";case"Medium":return"#FFF3CD";default:return"".concat(u.wN.LightGrey)}});var f=r(6188),y=r(3914),b=r(2885);let w=n.memo(()=>(0,a.jsx)(j,{children:"No Data Found"})),j=l.Ay.div.withConfig({componentId:"sc-8ad4c330-0"})(["width:100%;height:100%;display:flex;justify-content:center;text-align:center;font-weight:bold;font-size:2rem;"]);var v=r(932);let N=n.memo(e=>{let{onPageChange:t,totalPage:r,currentPage:l=1}=e,[s,i]=(0,n.useState)(l);return(0,n.useEffect)(()=>{i(l)},[l]),(0,a.jsx)(C,{children:(0,a.jsx)(v.Ay,{total:r,current:s,onPageChange:e=>{i(e),t(e)},maxWidth:5})})}),C=l.Ay.div.withConfig({componentId:"sc-7f867c40-0"})(["display:flex;justify-content:center;align-items:center;margin:0.5rem 0;.pagination{display:flex;list-style:none;gap:0.5rem;padding:0;li{cursor:pointer;a{display:flex;justify-content:center;align-items:center;padding:0.5rem 0.8rem;border:1px solid #ddd;border-radius:50%;color:#333;text-decoration:none;&:hover{background-color:",";}}&.active > a{border-radius:50%;background-color:",";color:black;padding:0.5rem 0.8rem;}}}"],u.wN.Yellow,u.wN.Yellow),k=n.memo(e=>{let{columns:t,data:r,pageSize:l,border:s="",padding:i="0.5rem",isPaginationRequired:o=!0,onClickPage:d=()=>{},totalPage:c=0,activePage:m=1,tableContainerStyle:p="",isTableHeader:g=!1,tableHeight:h="",display:x="",totalRecords:j=0}=e,v=[];v=(0,n.useMemo)(()=>(t.map(e=>(e.disableGlobalFilter=!0,e)),t),[]);let{getTableProps:C,getTableBodyProps:k,headerGroups:P,page:z=[],rows:E,prepareRow:B,setPageSize:R=()=>{},state:{pageIndex:O=0}}=(0,b.useTable)({columns:v,data:r||[]},b.useFilters,b.useGlobalFilter,b.useSortBy,b.usePagination);return(0,n.useEffect)(()=>{R(l)},[l]),(0,a.jsx)(M,{children:E.length>0||g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L,{className:"fixTableHead",height:h,children:(0,a.jsxs)(A,{...C(),children:[(0,a.jsx)(F,{border:s,children:P.map((e,t)=>(0,n.createElement)("tr",{...e.getHeaderGroupProps,key:t},e.headers.map((e,t)=>(0,a.jsxs)(S,{border:s,display:x,onClick:t=>{let r=e.getSortByToggleProps();r&&"function"==typeof r.onClick&&e.isSortRequired&&r.onClick(t)},children:[e.render("Header"),(0,a.jsx)(I,{children:e.isSortRequired?e.isSorted?e.isSortedDesc?(0,a.jsx)(y.g,{icon:f.rV$,style:{fontSize:"1rem",color:u.wN.Black}}):(0,a.jsx)(y.g,{icon:f.TJL,style:{fontSize:"1rem",color:u.wN.Black}}):(0,a.jsx)(y.g,{icon:f.TJL,style:{fontSize:"1rem",color:u.wN.LighterGrey}}):""})]},t))))}),(0,a.jsx)("tbody",{...k(),children:z.map((e,t)=>(B(e),(0,n.createElement)(D,{...e.getRowProps(),padding:i,key:t},e.cells.map((e,t)=>(0,n.createElement)(T,{...e.getCellProps(),border:s,padding:i,key:t},e.render("Cell"))))))})]})}),o&&(0,a.jsxs)(G,{children:[(0,a.jsxs)(H,{children:["showing",(0,a.jsxs)("strong",{className:"mx-1",children:[(m-1)*l+1," to"," ",(m-1)*l+z.length]}),"of ",(0,a.jsx)("strong",{children:j})]}),(0,a.jsx)(N,{onPageChange:e=>{d(e)},totalPage:c,currentPage:m})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w,{})})})}),A=l.Ay.table.withConfig({componentId:"sc-729fa8c3-0"})(["width:100%;border-collapse:seperate;border-spacing:0px;"]),F=l.Ay.thead.withConfig({componentId:"sc-729fa8c3-1"})(["background-color:",";border:",";position:sticky;top:0;"],u.wN.LighterGrey,e=>{var t;return null!==(t=e.border)&&void 0!==t?t:""}),S=l.Ay.th.withConfig({componentId:"sc-729fa8c3-2"})(["padding:0.5rem;font-size:1rem !important;font-weight:400;color:",";background:",";display:",";text-align:center;border-collapse:seperate;"],u.wN.GreyThree,u.wN.LighterGrey,e=>e.display?"none":"auto"),T=l.Ay.td.withConfig({componentId:"sc-729fa8c3-3"})(["padding:",";text-align:center;border-bottom:",";border-collapse:seperate;"],e=>{var t;return null!==(t=e.padding)&&void 0!==t?t:"0.5rem"},e=>{var t;return null!==(t=e.border)&&void 0!==t?t:"1px solid ".concat(u.wN.LightGrey)}),D=l.Ay.tr.withConfig({componentId:"sc-729fa8c3-4"})(["padding:",";&:hover{background-color:",";}&:nth-of-type(even){border:none;}"],e=>{var t;return null!==(t=e.padding)&&void 0!==t?t:"0.5rem"},u.wN.LightBrown),I=l.Ay.span.withConfig({componentId:"sc-729fa8c3-5"})([""]),G=l.Ay.div.withConfig({componentId:"sc-729fa8c3-6"})(["text-align:center;padding:0rem 0.5rem;display:flex;justify-content:space-between;align-items:center;"]),L=l.Ay.div.withConfig({componentId:"sc-729fa8c3-7"})(["overflow-y:auto;box-shadow:0px 4px 20px rgba(0,0,0,0.1);height:",";"],e=>e.height?e.height:"auto"),H=l.Ay.div.withConfig({componentId:"sc-729fa8c3-8"})(["display:inline-block;"]),P=l.Ay.div.withConfig({componentId:"sc-90dd7777-0"})(["height:90%;width:90%;background-color:",";border-radius:0.5rem;border:1px solid ",";&::-webkit-scrollbar{width:0.375rem;}&::-webkit-scrollbar-thumb{background:",";border-radius:0.5rem;}&::-webkit-scrollbar-thumb:hover{background:",";}"],u.wN.AppWhite,u.wN.LightGrey,u.wN.Grey,u.wN.DarkGrey);l.Ay.div.withConfig({componentId:"sc-90dd7777-1"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;margin-top:0.5rem;"]);let z=(0,l.Ay)(k).withConfig({componentId:"sc-90dd7777-2"})(["height:100%;"]),M=l.Ay.div.withConfig({componentId:"sc-90dd7777-3"})(["overflow-x:auto;height:99% !important;display:flex;flex-direction:column;"]);var E=r(813);let B=l.Ay.div.withConfig({componentId:"sc-4ad30460-0"})(["width:100%;min-height:25rem;text-align:center;display:flex;align-content:center;justify-content:center;align-items:center;"]);function R(){return(0,a.jsx)(B,{children:(0,a.jsx)(E.pf,{visible:!0,height:"80",width:"80",color:u.wN.Primary,ariaLabel:"tail-spin-loading",radius:"1",wrapperStyle:{},wrapperClass:""})})}var O=r(4177),W=r(7944);let _=n.memo(()=>{let[e,t]=(0,n.useState)(""),[r,l]=(0,n.useState)([]),[s,p]=(0,n.useState)(1),[h,x]=(0,n.useState)(u.XB),[f,y]=(0,n.useState)(!1),[b,w]=(0,n.useState)(u.vR[0]),[j,v]=(0,n.useState)(0),[N,C]=(0,n.useState)({leadType:""}),[k,A]=(0,n.useState)(!1),[F,S]=(0,n.useState)({startDate:null,endDate:null}),T=async()=>{A(!0);try{let t=await m.A.get("/api/leads",{params:{page:h,limit:u.Wt,...e&&{search:e},...N.leadType&&{leadType:N.leadType},...b&&{activeTab:b},...F.startDate&&{startDate:F.startDate},...F.endDate&&{endDate:F.endDate}}});if(200===t.status){let{leads:e,meta:r}=t.data,a=e.map(e=>({...e,assignedOn:(0,W.L)(e.assignedOn)}));l(a),p(r.totalPages),v(r.totalRecords)}}catch(e){console.error(e)}finally{A(!1)}},D=(0,n.useCallback)(i()(e=>{t(e.target.value)},700),[]);(0,n.useEffect)(()=>{T()},[h,b,e,N,F]);let I=e=>{w(e),x(u.XB),S({startDate:null,endDate:null}),C({leadType:""}),t("")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-[95%] flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-center text-gray-500 dark:text-gray-400 dark:border-gray-700",children:(0,a.jsx)("ul",{className:"flex flex-wrap -mb-px",children:u.vR.map(e=>(0,a.jsx)("li",{className:"me-2 mr-4",children:(0,a.jsx)("button",{onClick:()=>I(e),className:"inline-block p-2 border-b-2 rounded-t-lg ".concat(e===b?"text-black border-yellow-300 dark:text-black font-bold text-base":"dark:hover:text-black text-base border-none"),children:e})},e))})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)("div",{className:"relative text-center text-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:(0,a.jsx)(o.Mmj,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),(0,a.jsx)("input",{type:"search",id:"search",className:"w-full text-sm p-2 pl-10 text-gray-900 border border-gray-300 rounded-lg",placeholder:"Search",onChange:D})]})}),(0,a.jsx)("div",{className:"max-w-md bg-transparent",children:(0,a.jsx)(c.o,{onChange:e=>{if(e){let t=e.start?Math.floor(new Date(e.start).getTime()/1e3):null,r=e.end?Math.floor(new Date(e.end).getTime()/1e3):null;S({startDate:(null==t?void 0:t.toString())||null,endDate:(null==r?void 0:r.toString())||null})}},className:"w-full border rounded-lg bg-transparent"})}),(0,a.jsxs)("div",{className:"flex items-center cursor-pointer justify-center border border-gray-300 rounded-lg py-2 px-3 gap-1 relative",children:[(0,a.jsx)(d.uJN,{fontSize:"1rem",onClick:()=>{y(!f)}}),"Filters",f&&(0,a.jsx)("div",{className:"absolute z-10 right-0 bottom-0",children:(0,a.jsx)(O.default,{onApply:e=>{C(e),T()},onClear:()=>{C({leadType:""}),S({startDate:null,endDate:null})},filterFormData:N,setFilterFormData:C,onClose:()=>y(!1)})})]})]})]}),(0,a.jsx)(q,{width:"95%",marginTop:"1rem",children:k?(0,a.jsx)(R,{}):(0,a.jsx)(z,{columns:g(()=>{}),data:r,onClickPage:x,pageSize:u.Wt,border:"0.5px solid ".concat(u.wN.Grey),totalPage:s,activePage:h,padding:"0.2rem",totalRecords:j})})]})}),q=(0,l.Ay)(P).withConfig({componentId:"sc-666ec662-0"})(["width:",";margin-top:",";"],e=>{let{width:t}=e;return t||"100%"},e=>{let{marginTop:t}=e;return t||"0"})}}]);